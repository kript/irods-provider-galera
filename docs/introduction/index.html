<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.21" />
    <meta name="description" content="Introduction to irods-provider-galera">


    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />

    <title>Introduction :: iRODS - MariaDB Galera cluster</title>
    <link href="/irods-provider-galera/css/nucleus.css" rel="stylesheet">
    <link href="/irods-provider-galera/css/font-awesome.min.css" rel="stylesheet">
    <link href="/irods-provider-galera/css/hybrid.css" rel="stylesheet">
    <link href="/irods-provider-galera/css/featherlight.min.css" rel="stylesheet">
    <link href="/irods-provider-galera/css/horsey.css" rel="stylesheet">
    <link href="/irods-provider-galera/css/theme.css" rel="stylesheet">
    <link rel="stylesheet" href="/irods-provider-galera/css/bootstrap.min.css">
    <script src="/irods-provider-galera/js/jquery-2.x.min.js"></script>
    <style type="text/css">
      :root #header + #content > #left > #rlblock_left {
        display:none !important;
      }
    </style>

    

    

  </head>
  <body class="" data-url="/irods-provider-galera/introduction/">
    
<nav id="sidebar" class="">
  <div id="header-wrapper">
    <div id="header">
       
	<p><a href="https://mjstealey.github.io/irods-provider-galera/"><img src=https://mjstealey.github.io/irods-provider-galera//images/irods_logo.png height="30"><img src=https://mjstealey.github.io/irods-provider-galera//images/mariadb-badge-180x60.png height="30"></a></p>
 


    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fa fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="Search...">
    <span data-search-clear=""><i class="fa fa-close"></i></span>
</div>
<script type="text/javascript" src="/irods-provider-galera/js/lunr.min.js"></script>
<script type="text/javascript" src="/irods-provider-galera/js/horsey.js"></script>
<script type="text/javascript">
    var baseurl = "https:\/\/mjstealey.github.io\/irods-provider-galera\/";
</script>
<script type="text/javascript" src="/irods-provider-galera/js/search.js"></script>

    
  </div>

  <div class="highlightable">
    <ul class="topics">
        
            <li data-nav-id="/irods-provider-galera/" class="dd-item">
            <a href="/irods-provider-galera/"><i class="fa fa-fw fa-home"></i></a>
            </li>
        

        
        
        
        
        
            
    
    
    
    
        <li data-nav-id="/irods-provider-galera/introduction/" class="dd-item 
        active 
        
        "
        >
            <a href="/irods-provider-galera/introduction/">
                <span>Introduction</span>
                
                
            </a>
            
                
                
                
            
            
            
        </li>
    

        
            
    
    
    
    
        <li data-nav-id="/irods-provider-galera/setup/" class="dd-item 
         
        
        "
        >
            <a href="/irods-provider-galera/setup/">
                <span>Setup &amp; Configuration</span>
                
                    
                        <i class="fa fa-angle-right fa-lg category-icon"></i>
                    
                
                
            </a>
            
            
            
                <ul>
                
                    
    
    
    
    
        <li data-nav-id="/irods-provider-galera/three-node-test/" class="dd-item 
         
        
        "
        >
            <a href="/irods-provider-galera/three-node-test/">
                <span>Three node test script</span>
                
                
            </a>
            
            
            
        </li>
    

                
                    
    
    
    
    
        <li data-nav-id="/irods-provider-galera/galera-vms/" class="dd-item 
         
        
        "
        >
            <a href="/irods-provider-galera/galera-vms/">
                <span>Galera VMs</span>
                
                
            </a>
            
            
            
        </li>
    

                
                </ul>
             
        </li>
    

        
            
    
    
    
    
        <li data-nav-id="/irods-provider-galera/testing/" class="dd-item 
         
        
        "
        >
            <a href="/irods-provider-galera/testing/">
                <span>Testing</span>
                
                    
                        <i class="fa fa-angle-right fa-lg category-icon"></i>
                    
                
                
            </a>
            
            
            
                <ul>
                
                    
    
    
    
    
        <li data-nav-id="/irods-provider-galera/parallel-put-get/" class="dd-item 
         
        
        "
        >
            <a href="/irods-provider-galera/parallel-put-get/">
                <span>Parallel put / get tests</span>
                
                
            </a>
            
            
            
        </li>
    

                
                </ul>
             
        </li>
    

        

        

        
        
        
        <section id="shortcuts">
            
                <li class="" role="">
                    <h3>More</h3>
                    <a href="https://github.com/mjstealey/irods-provider-galera/"><i class='fa fa-github'></i> Github repository</a>
                    
                </li>
            
                <li class="" role="">
                    
                    <a href="https://irods.org/documentation/"><i class='fa fa-bookmark'></i> iRODS Documentation</a>
                    
                </li>
            
                <li class="" role="">
                    
                    <a href="https://mariadb.com/kb/en/mariadb/documentation/"><i class='fa fa-bookmark'></i> MariaDB Documentation</a>
                    
                </li>
            
        </section>    
        
        

        
    </ul>
    
     
    <section id="footer">
      <center>

<a class="github-button" href="https://github.com/mjstealey/irods-provider-galera/archive/master.zip" data-icon="octicon-cloud-download" aria-label="Download mjstealey/irods-provider-galera on GitHub">Download</a>


<a class="github-button" href="https://github.com/mjstealey/irods-provider-galera" data-icon="octicon-star" data-show-count="false" aria-label="Star mjstealey/irods-provider-galera on GitHub">Star</a>


<a class="github-button" href="https://github.com/mjstealey/irods-provider-galera/fork" data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork mjstealey/irods-provider-galera on GitHub">Fork</a>

</center>

<script async defer src="https://buttons.github.io/buttons.js"></script>
    </section>
  </div>
</nav>



        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
        
          <div id="top-bar">
            

            <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                <span id="sidebar-toggle-span">
                  <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                    <i class="fa fa-bars"></i>
                  </a>
                </span>
                <span id="toc-menu"><a href=""><i class="fa fa-list-alt"></i></a></span>
                <a href="https://mjstealey.github.io/irods-provider-galera/">
                  <span class="fa fa-arrow-circle-right" style="font-size:larger" aria-hidden="true"></span>
                  iRODS - MariaDB Galera cluster
                </a>
                
                   / <a href='/irods-provider-galera/introduction/'>Introduction</a>
                
                
            </div>
            <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#why-use-mariadb-galera-cluster-to-service-the-irods-catalog-provider">Why use MariaDB Galera cluster to service the iRODS catalog provider?</a></li>
<li><a href="#references">References</a>
<ul>
<li><a href="#irods">iRODS</a></li>
<li><a href="#mariadb">MariaDB</a></li>
<li><a href="#galera-cluster">Galera cluster</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

          </div>
        
        
        <div id="body-inner">
          
            <h1>Introduction</h1>
          




<h2 id="why-use-mariadb-galera-cluster-to-service-the-irods-catalog-provider">Why use MariaDB Galera cluster to service the iRODS catalog provider?</h2>

<p>An iRODS use case was presented where multiple geographically disparate participants all wanted to belong to the same iRODS Zone for ease of search and discovery. There was a desire to be able to decentralize the normally singular ICAT catalog database in a way that all participants could make use of whichever ICAT provider was closest to them without having to federate iRODS zones if new nodes came online.</p>

<p>Initial requirements:</p>

<ul>
<li>Every iRODS provider node would contain the ICAT catalog and resource storage space that could be uniquely assigned to that node</li>
<li>Large files would be transferred to the storage space of the iRODS provider node closest to the point of file origination</li>
<li>All nodes must pass some sort of quality of service testing beyond the standard iRODS test suite</li>
</ul>

<p>The solution being presented here uses MariaDB configured as a Galera cluster to decentralize the ICAT catalog database across all participating iRODS provider nodes.</p>

<p>A proof of concept testbed comprised of three iRODS provider nodes has been stood up to form a single zone named <strong>galeraZone</strong>. Each node within the testbed exists as it&rsquo;s own VM, and can be configured to use various latency values via <a href="http://man7.org/linux/man-pages/man8/tc-netem.8.html">NetEm</a> to simulate the kind of network traffic that would be experienced in a WAN configuration.</p>

<p><img src="https://mjstealey.github.io/irods-provider-galera//images/galerazone.png" alt="galeraZone" /></p>

<h2 id="references">References</h2>

<h3 id="irods">iRODS</h3>

<p><strong>What is iRODS</strong>: The Integrated Rule-Oriented Data System (iRODS) is open source data management software used by research organizations and government agencies worldwide.</p>

<p>iRODS is released as a production-level distribution aimed at deployment in mission critical environments. It virtualizes data storage resources, so users can take control of their data, regardless of where and on what device the data is stored.</p>

<p>The development infrastructure supports exhaustive testing on supported platforms.</p>

<p>The plugin architecture supports microservices, storage systems, authentication, networking, databases, rule engines, and an extensible API.</p>

<p>Learn more at: <a href="https://irods.org">irods.org</a></p>

<h3 id="mariadb">MariaDB</h3>

<p><strong>Why MariaDB</strong>: MariaDB is an open source leader, collaborating with innovators like Alibaba, Google and Facebook to develop and incorporate new features and improvements for the whole community, while at the same time helping customers like DBS Bank standardize on MariaDB solutions – ensuring enterprise and architecture requirements are met, now and in the future.</p>

<p>Learn more at: <a href="https://mariadb.com">mariadb.com</a></p>

<h3 id="galera-cluster">Galera cluster</h3>

<p><strong>What is MariaDB Galera cluster?</strong></p>

<p><strong>About</strong></p>

<p>MariaDB Galera Cluster is a synchronous multi-master cluster for MariaDB. It is available on Linux only, and only supports the <a href="https://mariadb.com/kb/en/xtradb-and-innodb/">XtraDB/InnoDB</a> storage engines (although there is experimental support for <a href="https://mariadb.com/kb/en/myisam/">MyISAM</a> - see the <a href="https://mariadb.com/kb/en/galera-cluster-system-variables/#wsrep_replicate_myisam">wsrep_replicate_myisam</a> system variable).</p>

<p>Starting with <a href="https://mariadb.com/kb/en/what-is-mariadb-101/">MariaDB 10.1</a>, the wsrep API for Galera Cluster is included by default. This is available as a separate download for <a href="https://mariadb.com/kb/en/what-is-mariadb-100/">MariaDB 10.0</a> and <a href="https://mariadb.com/kb/en/what-is-mariadb-55/">MariaDB 5.5</a>.</p>

<p><strong>Features</strong></p>

<ul>
<li>Synchronous replication</li>
<li>Active-active multi-master topology</li>
<li>Read and write to any cluster node</li>
<li>Automatic membership control, failed nodes drop from the cluster</li>
<li>Automatic node joining</li>
<li>True parallel replication, on row level</li>
<li>Direct client connections, native MariaDB look &amp; feel</li>
</ul>

<p><strong>Benefits</strong></p>

<p>The above features yield several benefits for a DBMS clustering solution, including:</p>

<ul>
<li>No slave lag</li>
<li>No lost transactions</li>
<li>Both read and write scalability</li>
<li>Smaller client latencies</li>
</ul>

<p>The <a href="https://mariadb.com/kb/en/getting-started-with-mariadb-galera-cluster/">Getting Started with MariaDB Galera Cluster</a> page has instructions on how to get up and running with MariaDB Galera Cluster.</p>

<p>Learn more at: <a href="https://mariadb.com/kb/en/mariadb/what-is-mariadb-galera-cluster/">what-is-mariadb-galera-cluster</a></p>


<footer class=" footline" >
	
	    <i class='fa fa-user'></i> <a href="mailto:michael.j.stealey@gmail.com">Michael J. Stealey</a>  <i class='fa fa-calendar'></i> 27/05/2017
	    </div>
	
</footer>



      </div>
    </div>

    
 
    

    <div id="navigation">
        
        
        
            
            
            
                
                    
                    
                
                
                
            
        
        
            
            
            
                
                    
                        
                        
                    
                
                
                
                    
            
            
                
                    
                
                
                
            
        
                
                    
            
            
                
                    
                
                
                
            
        
                
            
        
        
            
            
            
                
                    
                
                
                
                    
            
            
                
                    
                
                
                
            
        
                
            
        
          

        


        
        
            <a class="nav nav-next" href="/irods-provider-galera/setup/" title="Setup &amp; Configuration" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
        
    </div>

    </section>
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/irods-provider-galera/js/clipboard.min.js"></script>
    <script src="/irods-provider-galera/js/jquery.sticky-kit.min.js"></script>
    <script src="/irods-provider-galera/js/featherlight.min.js"></script>
    <script src="/irods-provider-galera/js/html5shiv-printshiv.min.js"></script>
    <script src="/irods-provider-galera/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/irods-provider-galera/js/modernizr.custom.71422.js"></script>
    <script src="/irods-provider-galera/js/learn.js"></script>
    <script src="/irods-provider-galera/js/hugo-learn.js"></script>

    
    <link href="/irods-provider-galera/mermaid/mermaid.css" type="text/css" rel="stylesheet"/>
    <script src="/irods-provider-galera/mermaid/mermaid.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    

    

  </body>
</html>

